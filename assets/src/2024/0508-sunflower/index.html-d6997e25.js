var y=Object.defineProperty;var T=(l,e,s)=>e in l?y(l,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[e]=s;var h=(l,e,s)=>(T(l,typeof e!="symbol"?e+"":e,s),s);import"../../../modulepreload-polyfill-3cfb730f.js";/* empty css                     */import{c as I}from"../../../index-8d178fc0.js";import{l as b}from"../../../loop-9a51de3b.js";const p=(1+Math.sqrt(5))/2,x=window.innerWidth,m=window.innerHeight,{ctx:t}=I(x,m);class k{constructor(){h(this,"count",100);h(this,"maxRadius",300);h(this,"minRadius",100);h(this,"pixelsPerSecond",1e3);h(this,"currentPixels",0);h(this,"currentStep",0);h(this,"currentStepProgress",0);h(this,"timingMode","pixelsPerSecond");h(this,"stepsPerSecond",8)}updatePxPerSecond(e){this.currentPixels+=this.pixelsPerSecond*(e/1e3);let s=this.maxRadius-this.minRadius,i=0,r=Math.cos(i)*this.minRadius,n=Math.sin(i)*this.minRadius,a=0;t.beginPath();let o=0;for(;a<this.currentPixels&&o<this.count;){let P=o/this.count,f=this.minRadius+s*P;i+=Math.PI*2*p;let c=Math.cos(i)*f,u=Math.sin(i)*f,d=Math.sqrt((c-r)**2+(u-n)**2);if(d+a>this.currentPixels){let S=(this.currentPixels-a)/d;c=r+(c-r)*S,u=n+(u-n)*S,a=this.currentPixels}else a+=d;r=c,n=u,t.lineTo(c,u),o++}t.stroke()}updateSteps(e){this.currentStepProgress+=this.stepsPerSecond*(e/1e3),this.currentStepProgress>=1&&(this.currentStepProgress=0,this.currentStep++,this.currentStep>=this.count&&(this.currentStep=0));let s=this.maxRadius-this.minRadius,i=0,r=Math.cos(i)*this.minRadius,n=Math.sin(i)*this.minRadius,a=0;for(t.beginPath();a<this.currentStep&&a<this.count;){let S=a/this.count,g=this.minRadius+s*S;i+=Math.PI*2*p;let R=Math.cos(i)*g,w=Math.sin(i)*g;t.lineTo(R,w),r=R,n=w,a++}let o=this.currentStepProgress,P=this.minRadius+s*(this.currentStep/this.count);i+=Math.PI*2*p;let f=Math.cos(i)*P,c=Math.sin(i)*P,u=r+(f-r)*o,d=n+(c-n)*o;t.lineTo(u,d),t.stroke()}drawStatic(){t.beginPath();let e=1,s=0;s+=Math.PI*2*p;let i=[];for(;e<this.count;){let r=e/this.count,n=this.minRadius+(this.maxRadius-this.minRadius)*r;s+=Math.PI*2*p;let a=Math.cos(s)*n,o=Math.sin(s)*n;i.push([a,o]),e++}i.forEach((r,n)=>{q(r,n===0?"red":"teal",n.toString())}),t.beginPath();for(let r=1;r<i.length;r+=2){let n=i[r-1],a=i[r];t.quadraticCurveTo(n[0],n[1],a[0],a[1])}t.stroke()}update(e){this.timingMode==="pixelsPerSecond"?this.updatePxPerSecond(e):this.updateSteps(e)}}let M=new k;M.timingMode="stepsPerSecond";const q=(l,e="#fff",s)=>{t.save(),t.fillStyle=e,t.beginPath(),t.arc(l[0],l[1],5,0,Math.PI*2),s&&t.fillText(s,l[0]+10,l[1]+10),t.fill(),t.restore()};let v=0;const X=l=>{t.clearRect(0,0,x,m),t.save(),t.translate(x/2,m/2),t.strokeStyle="#fff",t.fillStyle="#fff";let e=l-v;M.update(e),v=l,t.restore(),t.fillStyle="#fff",t.fillText(M.currentPixels.toFixed(2),20,20),t.fillText(l.toFixed(2),20,40)};b(X);
