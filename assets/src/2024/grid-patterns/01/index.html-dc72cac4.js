import"../../../../modulepreload-polyfill-3cfb730f.js";/* empty css                        */import{S,P as g}from"../../../../pattern-grid-animated-data-a2b97fe3.js";import{c as q}from"../../../../index-8d178fc0.js";import{e as k}from"../../../../easings-ac43f515.js";import{l as z}from"../../../../loop-9a51de3b.js";import{s as E,r as p}from"../../../../utils-410b772c.js";import{A as v}from"../../../../pattern-grid-animated-ecd5b8c6.js";import{G}from"../../../../lil-gui.esm-da8e181f.js";import{S as j}from"../../../../sizes-34512445.js";import"../../../../_commonjsHelpers-725317a4.js";import"../../../../data-view-d08f0f9a.js";import"../../../../dom-07b9d998.js";import"../../../../timer-edf95207.js";import"../../../../shapes-52b2702a.js";import"../../../../simplex-noise-c4e77999.js";const O=t=>{let e=Math.min(t.width,t.height)*.85;return{grid:e,tx:(t.width-e)/2,ty:(t.height-e)/2}},i=new j;let a=O(i);const{ctx:r,resizeCanvas:x}=q(i.width,i.height),D=new S;document.body.appendChild(D.dom);let w=[["#533a71","#454a96","#6184d8","#50c5b7","#9cec5b","#f0f465","#ff4a1c","#ed254e"],["#dc5132","#a46589","#7a82b8","#8ad0a6","#c4f0a8","#a0bb07","#ffcf33","#ec9f05"],["#874286","#856596","#f9c8ce","#a8d7a8","#b6cccc","#8aadbc","#7a7eb8","#fc814a"],["#87425d","#3c2e6b","#0081af","#a7d6c3","#285943","#8a8fbd","#9a79b8","#fcee49"]];const F=(t,e)=>{let b=Object.keys(k);t.close(),t.add(e,"addPerSecond",1,40,1),t.add(e,"cellDuration",100,2e3,100),t.add(e,"cellEase",b),t.add(e,"addEase",b);const c={newPalette:()=>{e.setColors(p(w))},newPattern:()=>{e.setColors(p(w)),e.reset(),e.create()},restart:()=>{e.reset()}};let n={triangle:2,lines:1,quarterCircle:1,circle:1,leaf:1},f={halfCircle:1,quarterCircle:1},d=t.addFolder("shape likelihood");d.close(),d.add(e,"rectChance",0,5,.1);let y=d.addFolder("square");for(let l in n)y.add(n,l,0,5,1);let P=d.addFolder("rectangle");for(let l in f)P.add(f,l,0,5,1);d.onChange(()=>{e.squareOptions=[],Object.entries(n).forEach(([m,h])=>{for(let o=0;o<h;o++)e.squareOptions.push(m)}),e.rectOptions=[],Object.entries(f).forEach(([m,h])=>{for(let o=0;o<h;o++)e.rectOptions.push(m)})}),t.add(c,"newPalette"),t.add(c,"newPattern"),t.add(c,"restart")};let u=E([...p(w)]),A=u.shift(),s=new v({size:a.grid,palette:u,rectOptions:["halfCircle"],squareOptions:["leaf","quarterCircle"],addPerSecond:20,cellDuration:500,sides:8,rectChance:.5,cornerPattern:"circle",inOutWait:500,animation:"loop"});s.create();const R=new G({title:"pattern controls"});F(R,s);let V=new g(s);window.addEventListener("resize",()=>{a=O(i),x(i.width,i.height),s.size=a.grid});let C=0;const I=t=>{r.save(),r.translate(a.tx,a.ty),r.fillStyle=A,r.fillRect(0,0,a.grid,a.grid);let e=t-C;C=t,s.draw(r,e),V.update(),r.restore()};z(I);window.pattern=s;
