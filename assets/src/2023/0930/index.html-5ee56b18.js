var v=Object.defineProperty;var M=(r,e,t)=>e in r?v(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var s=(r,e,t)=>(M(r,typeof e!="symbol"?e+"":e,t),t);import"../../../modulepreload-polyfill-3cfb730f.js";/* empty css                     */import{r as o,s as F,m as z}from"../../../utils-410b772c.js";import{c as A}from"../../../index-8d178fc0.js";import{b as D}from"../../../shapes-52b2702a.js";import{c as E}from"../../../crazy-tiles-f6caf545.js";import{l as R}from"../../../loop-9a51de3b.js";let B={darks:[["#6a105e","#fa0939","#0C2F4B","#ed2b92"],["#0e1428","#5D2A42","#3f612d","#1d201f","#414066"],["#D01FD0","#25A2DB","#02BA36","#BB1B4E"],["#281951","#4A64BF","#E32033","#FA5621"]],lights:[["#f6b02c","#f24333","#ff7a27","#058ed9","#5bc4f1","#FC6C9C"],["#f0a202","#f18805","#d95d39","#d1dede","#ceff1a"],["#50b2d3","#FF9F31","#3CBC50","#81d560"]]},f={iterations:6,divisions:"2s",minSize:50,durationSingle:2e3,overlapMotion:3},d=700,m=700,{ctx:i}=A(d,m),x=[...o(B.darks),...o(B.lights)],g,P;class p{constructor({cx:e,cy:t,w:a,h,startTime:l,bg:n,fg:y}){s(this,"cx");s(this,"cy");s(this,"w");s(this,"h");s(this,"startTime");s(this,"bg");s(this,"fg");s(this,"radius");s(this,"drawBg",()=>{i.beginPath(),i.rect(this.cx-this.w/2,this.cy-this.h/2,this.w,this.h),i.fillStyle=this.bg,i.fill()});s(this,"getProgress",e=>{let t=(e<this.startTime?e+1-this.startTime:e-this.startTime)/P;return Math.min(1,t)});s(this,"text",e=>{i.save(),i.font="bold 15px sans-serif",i.textBaseline="middle",i.fillStyle="#000",i.fillText(e,this.cx,this.cy),i.restore()});this.cx=e,this.cy=t,this.w=a,this.h=h,this.startTime=l||0,this.bg=n||"#fff",this.fg=y||"#000",this.radius=Math.min(a,h)*.4}}class k extends p{constructor(t){super(t);s(this,"burstStart");s(this,"nodes");s(this,"draw",t=>{let a=.1+.15*Math.sin(t*Math.PI),h=this.burstStart;t<1&&(h+=Math.PI*(2/this.nodes)*2*t),i.beginPath(),D(i,{cx:this.cx,cy:this.cy,r:this.radius,nodes:this.nodes,vary:this.radius*a,start:h}),i.fillStyle=this.fg,i.fill()});this.burstStart=t.burstStart||0,this.nodes=t.nodes||6}}class I extends p{constructor(t){super(t);s(this,"step");s(this,"wid");s(this,"iterations");s(this,"squareCx");s(this,"squareCy");s(this,"size");this.squareCx=t.squareCx??this.cx+o(-this.radius,this.radius),this.squareCy=t.squareCy??this.cy+o(-this.radius,this.radius),this.size=t.size??(o()<.5?this.w:this.h),this.step=this.size*(t.stepMult??.17),this.wid=this.size*(t.widthMult??.12),this.iterations=t.iterations??3}draw(t){i.clip();let a=this.size;t<.5?a=z(t,0,.5,this.size,this.size*2):t<1&&(a=z(t,.5,1,0,this.size));for(let h=0;h<this.iterations;h++){let l=a-this.step*h;if(l<=0)continue;let n=this.squareCx-l,y=this.squareCx+l,C=this.squareCy-l,b=this.squareCy+l;i.beginPath(),i.moveTo(n,C),i.lineTo(y,C),i.lineTo(y,b),i.lineTo(n,b),i.closePath();let u=l-this.wid;if(u>0){let w=this.squareCx-u,S=this.squareCx+u,T=this.squareCy-u,q=this.squareCy+u;i.moveTo(w,T),i.lineTo(S,T),i.lineTo(S,q),i.lineTo(w,q),i.closePath()}i.fillStyle=this.fg,i.fill("evenodd")}}}let c=[];function V(){let r=[];E({x:d/2,y:m/2,w:d,h:m,iterations:f.iterations,fn:(a,h,l,n)=>{r.push({cx:a,cy:h,w:l,h:n})},minSize:f.minSize}),r=F(r);let t=1/r.length;r.forEach((a,h)=>{let l={cx:a.cx,cy:a.cy,w:a.w,h:a.h,startTime:h*t,fg:x[h%x.length],bg:x[(h+1)%x.length]};if(o()<.5)c.push(new k({...l,burstStart:h*.2}));else{let n=o([3,4,5]);c.push(new I({...l,iterations:n}))}}),g=c.length*f.durationSingle/f.overlapMotion,P=f.overlapMotion/c.length}function X(r){let e=r%g/g;i.clearRect(0,0,d,m),i.fillStyle="#fff",i.fillRect(0,0,d,m),c.forEach(t=>{i.save(),t.drawBg();let a=t.getProgress(e);t.draw(a),i.restore()})}V();R(X);
