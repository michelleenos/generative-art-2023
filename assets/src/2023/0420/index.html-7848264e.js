var k=Object.defineProperty;var b=(t,i,o)=>i in t?k(t,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[i]=o;var c=(t,i,o)=>(b(t,typeof i!="symbol"?i+"":i,o),o);import"../../../modulepreload-polyfill-3cfb730f.js";/* empty css                     */import{p as g}from"../../../p5.min-89a01bf6.js";import{t as H}from"../../../tweakpane-9ece380b.js";import"../../../_commonjsHelpers-725317a4.js";import"../../../_commonjs-dynamic-modules-302442b1.js";const L={randomEachStep:"random",allRandom:"randomEach",sameRandomEach:"sameEach",sameAlways:"same"},e={edges:"same",forceHigh:.1,forceLow:.06};new g(t=>{let i=[],o,r,u=new H.Pane;u.addInput(e,"edges",{options:L}),u.addInput(e,"forceHigh",{min:0,max:.3}),u.addInput(e,"forceLow",{min:0,max:.3}),u.on("change",f);class w extends g.Vector{constructor(h,l,a,d=1){super(h,l);c(this,"radius");c(this,"acceleration",new g.Vector);c(this,"velocity",new g.Vector);c(this,"mass");c(this,"edgeForce");this.radius=a,this.mass=d,this.edgeForce=n()}applyForce(h){let l=h.copy().div(this.mass);this.acceleration.add(l)}update(){this.velocity.add(this.acceleration),this.acceleration.mult(0),this.add(this.velocity)}distFromEdge(){return{left:this.x-this.radius,right:t.width-this.x-this.radius,top:this.y-this.radius,bottom:t.height-this.y-this.radius}}checkEdges(){this.x+this.radius>=t.width?(this.x=t.width-this.radius,this.velocity.x*=-1):this.x-this.radius<=0&&(this.x=this.radius,this.velocity.x*=-1),this.y+this.radius>=t.height?(this.velocity.y*=-1,this.y=t.height-this.radius):this.y-this.radius<=0&&(this.velocity.y*=-1,this.y=this.radius)}draw(){t.circle(this.x,this.y,this.radius*2)}}function n(){return{left:t.random(e.forceLow,e.forceHigh),right:t.random(e.forceLow,e.forceHigh),top:t.random(e.forceLow,e.forceHigh),bottom:t.random(e.forceLow,e.forceHigh)}}function f(){r&&r.clear(),i=[];for(let m=0;m<7;m++)i.push(new w(t.random(t.width),t.random(t.height),10,.5));o=n()}t.setup=()=>{t.createCanvas(400,400),f(),r=t.createGraphics(400,400),r.strokeWeight(.5),r.stroke(255,150),o=n()},t.draw=()=>{t.background(10),t.noStroke(),t.fill(200);let m=n();i.forEach(s=>{let h=s.x,l=s.y,a=s.distFromEdge(),d=e.edges==="same"?o:e.edges==="sameEach"?s.edgeForce:e.edges==="random"?m:n(),y=(1-a.left/t.width)*d.left,x=(1-a.right/t.width)*d.right,E=(1-a.top/t.height)*d.top,F=(1-a.bottom/t.height)*d.bottom,v=new g.Vector(y-x,E-F);s.applyForce(v),s.update(),s.draw(),r.line(h,l,s.x,s.y)}),t.image(r,0,0)}},document.getElementById("sketch")??void 0);
