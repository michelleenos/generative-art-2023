import"../../../modulepreload-polyfill-3cfb730f.js";/* empty css                     */import{c as Q}from"../../../index-8d178fc0.js";import{l as j}from"../../../loop-9a51de3b.js";import{e as k}from"../../../easings-ac43f515.js";import{r as m,m as P}from"../../../utils-410b772c.js";import{t as A}from"../../../tweakpane-9ece380b.js";import{R as E}from"../../../refresh-container-8d718cbf.js";import"../../../_commonjsHelpers-725317a4.js";let y,r,C,e,x=window.innerWidth,I=window.innerHeight,{ctx:t,canvas:T}=Q(x,I);const M=()=>({ease_r:"inSine",ease_arc:"inSine",n:Math.floor(m(35,55)),r_max_mult:m(.3,.45),r_min_mult:m(.01,.1),arc_dist:180,sides:m(["same","opposite"]),arc_start:-90,arc_calc:m(["1 - i/n","i/n","opposite"]),rotate:!1,animation:!1,phase:1}),v=[()=>({...M(),ease_r:m(["inSine","inCubic"]),ease_arc:"inSine",r_min_mult:m(.05,.15)}),()=>({...M(),ease_arc:m(["inSine","inQuad"]),r_min_mult:.01}),()=>({...M(),ease_r:m(["inOutQuart","inCirc","outSquareRoot"]),ease_arc:m(["inSine","inQuad","inCubic","inQuart"]),arc_calc:"opposite",phase:2})],R=()=>{let n=Math.floor(m(v.length));return y=n,v[n]()};e=R();const W=()=>{let n=Object.keys(k).reduce((l,u)=>(l[u]=u,l),{});r=new A.Pane({title:"settings"}),r.addInput(e,"ease_r",{options:n}),r.addInput(e,"ease_arc",{options:n}),r.addInput(e,"n",{min:1,max:100,step:1}),r.addInput(e,"r_max_mult",{min:0,max:1}),r.addInput(e,"r_min_mult",{min:0,max:1}),r.addInput(e,"arc_dist",{min:0,max:360}),r.addInput(e,"arc_start",{min:-180,max:180}),r.addInput(e,"arc_calc",{options:{"1 - i/n":"1 - i/n","i/n":"i/n",opposite:"opposite"}}),r.addInput(e,"sides",{options:{same:"same",opposite:"opposite"}});let p=r.addInput(e,"animation"),d=r.addInput(e,"rotate",{hidden:!e.animation}),s=r.addInput(e,"phase",{min:1,max:3,step:1,hidden:e.animation});p.on("change",l=>{l.value?(s.hidden=!0,d.hidden=!1):(s.hidden=!1,d.hidden=!0)}),C=new E(r)};function $(n){t.clearRect(0,0,x,I),t.fillStyle="rgb(230,230,230)",t.fillRect(0,0,x,I);let p=e.animation?n*1e-4%1:e.phase*.25;t.fillStyle="#000",t.beginPath(),t.fillText(p.toFixed(2),10,10),t.save(),t.translate(x/2,I/2),e.rotate&&t.rotate(p*Math.PI);let d=Math.min(x,I);t.strokeStyle="#000",t.lineWidth=.7;for(let s=0;s<2;s++){let l=e.n,u=0,S=d*e.r_max_mult,w=d*e.r_min_mult,b=e.arc_start*(Math.PI/180)+(s===0?0:Math.PI),h=e.arc_dist*Math.PI/180;t.strokeStyle=`rgba(0,0,0,${1-s*.5})`,q({n:l,y:u,r_start:w,r_end:S,arc_start:b,ease_r:e.ease_r,ease_arc:e.ease_arc,arc_calc:e.arc_calc==="opposite"?s===0?"1 - i/n":"i/n":e.arc_calc,progress:p,dir:e.sides==="same"?s===0?"right":"left":"right",arc_dist:h})}t.restore(),t.fillText(`preset: ${y}`,10,I-10)}function q({n=35,y:p=0,r_start:d,r_end:s,arc_start:l=0,arc_dist:u=Math.PI,ease_r:S="outSine",ease_arc:w="inSine",arc_calc:b="1 - i/n",dir:h="right",progress:_}){let O=s-d;const f=(c,a,i)=>{t.beginPath(),t.arc(0,p,c,l,l+a*i),t.stroke()},g=(c,a,i)=>{t.beginPath(),t.arc(0,p,c,l-a*i,l),t.stroke()};for(let c=0;c<n;c++){let a=d+O*k[S](c/n),i=u*k[w](b==="1 - i/n"?1-c/n:c/n);if(_<.25){let o=P(_,0,.25,0,1);h==="right"?f(a,i,o):g(a,i,o)}else if(_<.5){h==="right"?f(a,i,1):g(a,i,1);let o=P(_,.25,.5,0,1);h==="right"?g(a,i,o):f(a,i,o)}else if(_<.75){h==="right"?g(a,i,1):f(a,i,1);let o=P(_,.5,.75,0,1);h==="right"?f(a,i,1-o):g(a,i,1-o)}else{let o=P(_,.75,1,0,1);h==="right"?g(a,i,1-o):f(a,i,1-o)}}}T.addEventListener("click",()=>{let n=R();Object.assign(e,n),C.refresh()});W();j($);
