import"../../../modulepreload-polyfill-3cfb730f.js";/* empty css                     */import{c as Q}from"../../../index-8d178fc0.js";import{t as _}from"../../../tweakpane-9ece380b.js";import{r as q}from"../../../shapes-52b2702a.js";import{r as i,s as L,m as B,c as D}from"../../../utils-410b772c.js";import{l as G}from"../../../loop-9a51de3b.js";import{e as W}from"../../../easings-ac43f515.js";import"../../../_commonjsHelpers-725317a4.js";let J=["#031d44","#04395e","#70a288","#dab785","#d5896f"],K=["#f24333","#ff8019","#f6b02c","#2ec2ea","#3bed73","#fc6c9c"],N=["#040925","#2a3ded","#186f44","#35a670","#e3c819"],U=["#d7263d","#f46036","#2e294e","#1b998b","#c5d86d"];const l={n:4,subdiv:5,layers:5,animate:!1,useTiles:!1};let S=window.innerWidth,k=window.innerHeight,{ctx:e,resizeCanvas:V,canvas:X}=Q(S,k),w,I,P,b,t,R;function Y(){let m=[],p=l.n*l.n;for(let y=0;y<p;y++){w=L(w);let x=y%l.n*P,M=Math.floor(y/l.n)*P,g=[];for(let c=0;c<l.layers;c++){let a=w[c%w.length],f=["rects","squares","circle"],s=i([0,Math.PI/l.subdiv]);l.useTiles&&f.push("tiles");let r=i(f);if(r==="tiles"){let n=i()<.5,u=n?l.subdiv*2:l.subdiv,v=new Array(u*u).reduce((d,o,h)=>(i()<.1&&d.push(h),d),[]);g.push({type:r,angleStart:s,sz1:(n?b/2:b)*i(.15,.3),sz2:(n?b/2:b)*i(.4,.85),style:"fill",color:a,skip:v,dbl:i()<.5,move:{start:i(0,1),dur:.3}})}else if(r==="rects"){let n=i(.3,.9),d=i(.1,.4),o=i(.05,.4),h=o-d/2<=.05||d>.25;g.push({type:r,w:n,h:d,dist:o,angleStart:s,style:h||i()<.5?"stroke":"fill",color:a,sides:l.subdiv===4?i(["lr","tb","all"]):"all",move:i()<.5?{start:i(0,1),dur:.3}:void 0})}else if(r==="squares"){let n=t*i(.1,.3),u=i()<.5?"stroke":"fill";g.push({type:r,size:n,radius:i(.15,.3),style:u,color:a,angleStart:s})}else if(r==="circle"){let n=i()<.5?"stroke":"fill";g.push({type:r,style:n,color:a,angleStart:s,size:t*i(.05,.3)})}}m.push({x,y:M,layers:g})}return m}function z(){I=Math.min(S,k)*.9,P=I/l.n,t=P*.8,b=Math.floor(t/l.subdiv),w=i([J,K,N,U]),w=L(w),R=Y()}function Z(m=0){let p=m*.001/5%1;e.clearRect(0,0,S,k),e.fillStyle="#fff7e2",e.fillRect(0,0,S,k),e.lineWidth=3,e.save(),e.translate((S-I+P-t)/2,(k-I+P-t)/2),R.forEach(y=>{let{x,y:M,layers:g}=y;e.save(),e.translate(x,M),g.forEach(c=>{if(c.type==="tiles"){let{dbl:a,sz1:f,sz2:s,style:r,color:n,move:u,skip:v}=c,d=0;for(let o=0;o<l.subdiv*(a?2:1);o++)for(let h=0;h<l.subdiv*(a?2:1);h++){if(d++,v.includes(d))continue;let E=(o*b+b/2)*(a?.5:1),T=(h*b+b/2)*(a?.5:1);r==="fill"?e.fillStyle=n:e.strokeStyle=n;let C=s;if(u&&l.animate){let{start:j,dur:A}=u,F=H((p+o*.05+h*.05)%1,j,A),O=W.inOutSine(F*2);C=s-O*f}e.beginPath(),q(e,{cx:E,cy:T,size:C}),r==="fill"?e.fill():e.stroke()}}else if(c.type==="rects"){let{w:a,h:f,dist:s,style:r,color:n,move:u,sides:v}=c;r==="fill"?e.fillStyle=n:e.strokeStyle=n,e.save(),e.translate(t/2,t/2),e.rotate(c.angleStart);let d=Math.PI*2/l.subdiv;if(u&&l.animate){let{start:o,dur:h}=u,E=H(p,o,h),T=W.inQuint(E);s=B(T,0,1,-s,s)}for(let o=0;o<l.subdiv;o++)v==="lr"&&o%2===1||v==="tb"&&o%2===0||(e.save(),e.rotate(d*o),e.beginPath(),e.moveTo(a*t*-.5,s*t+f*t*.5),e.lineTo(a*t*.5,s*t+f*t*.5),e.lineTo(a*t*.5,s*t-f*t*.5),e.lineTo(a*t*-.5,s*t-f*t*.5),e.closePath(),r==="fill"?e.fill():e.stroke(),e.restore());e.restore()}else if(c.type==="squares"){let{size:a,radius:f,style:s,color:r}=c;s==="fill"?e.fillStyle=r:e.strokeStyle=r,e.save(),e.translate(t/2,t/2),e.rotate(c.angleStart);let n=Math.PI*2/l.subdiv,u=t*f,v=t*f;for(let d=0;d<l.subdiv;d++)e.save(),e.rotate(n*d),e.translate(u,v),e.rotate(Math.PI*.25),e.beginPath(),q(e,{cx:0,cy:0,size:a}),s==="fill"?e.fill():e.stroke(),e.restore();e.restore()}else if(c.type==="circle"){let{size:a,style:f,color:s}=c;f==="fill"?e.fillStyle=s:e.strokeStyle=s,e.beginPath(),e.arc(t/2,t/2,a,0,Math.PI*2),f==="fill"?e.fill():e.stroke()}}),e.restore()}),e.restore()}const H=(m,p,y)=>{m<p&&(m+=1);let x=m-p;return D(x/y,0,1)};function $(){let p=new _.Pane().addFolder({title:"controls"});p.addInput(l,"animate"),p.addInput(l,"subdiv",{min:2,max:10,step:1}).on("change",z),p.addInput(l,"layers",{min:1,max:10,step:1}).on("change",z),p.addInput(l,"n",{min:2,max:10,step:1}).on("change",z)}window.addEventListener("resize",()=>{S=window.innerWidth,k=window.innerHeight,V(S,k),z()});X.addEventListener("click",()=>{z()});$();z();G(Z);
