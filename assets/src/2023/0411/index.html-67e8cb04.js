import"../../../modulepreload-polyfill-3cfb730f.js";import{p as H}from"../../../p5.min-89a01bf6.js";/* empty css                     */import{t as W}from"../../../tweakpane-9ece380b.js";import{R as L}from"../../../refresh-container-8d718cbf.js";import"../../../_commonjsHelpers-725317a4.js";import"../../../_commonjs-dynamic-modules-302442b1.js";const E=(e,{x:r,y:s,w:t,h:l,nx:d=5,ny:i=5,border:y=.03})=>{let x=Math.sqrt(t*t+l*l),a=e.min(t,l)*y,o=t-a*2,g=l-a*2,f=o/d,u=g/i;return{x:r,y:s,w:t,h:l,nx:d,ny:i,gridx:f,gridy:u,diagonal:x,edge:a,innerw:o,innerh:g}};function b(e,r,s,t=!1){t&&s.beginShape(),s.vertex(0,0),s.vertex(e,0),s.vertex(e,r),s.vertex(0,r),t&&s.endShape()}function O(e,r){r.push();let s=r.drawingContext;s.globalCompositeOperation="destination-in",r.beginShape(),b(e.w,e.h,r),r.endShape(),s.globalCompositeOperation="source-over",r.pop()}function C(e,r){r.beginShape(),b(e.w,e.h,r),r.beginContour(),r.vertex(e.w-e.edge,e.edge),r.vertex(e.edge,e.edge),r.vertex(e.edge,e.h-e.edge),r.vertex(e.w-e.edge,e.h-e.edge),r.endContour(),r.endShape()}function j(e,r,{size:s=.9,size2:t=.9,offset:l=!1}={}){let{gridx:d,gridy:i,nx:y,ny:x,edge:a}=e;r.beginShape(),b(e.w,e.h,r);let o=d*s,g=i*t;for(let f=0;f<=y;f++)for(let u=0;u<x;u++){let z=(l&&u%2===0?f*d:(f+.5)*d)+a,c=a+(u+.5)*i;r.beginContour(),r.vertex(z-o/2,c-g/2),r.vertex(z-o/2,c+g/2),r.vertex(z+o/2,c+g/2),r.vertex(z+o/2,c-g/2),r.endContour()}r.endShape(),C(e,r)}function q(e,r,{size:s=.9,size2:t=.9}={}){let{nx:l,ny:d,edge:i,gridx:y,gridy:x}=e,a=y*s,o=x*t,g=Math.sqrt(a*a+o*o);b(e.w,e.h,r,!0),r.push(),r.erase();for(let f=-1;f<=l;f++)for(let u=-1;u<=d;u++){let z=f*y+i,c=u*x+i;r.arc(z+y/2,c+x/2,g,g,Math.PI*-.25,Math.PI*.75)}r.pop(),C(e,r)}function F(e,r,{offset:s=!0,size:t=.9,size2:l=.7}={}){const{gridx:d,gridy:i,nx:y,ny:x,edge:a}=e;let o=d*t,g=i*l;r.beginShape(),b(e.w,e.h,r);for(let f=-1;f<=y;f++)for(let u=0;u<x;u++){let z=(s&&u%2===0?(f+.5)*d:f*d)+a;z+=(d-o)/2;let c=u*i+a;c+=(i-g)/2,r.beginContour(),r.vertex(z+o,c+g),r.bezierVertex(z+o,c+g*.5,z+o*.75,c,z+o/2,c),r.bezierVertex(z+o*.25,c,z,c+g*.5,z,c+g),r.endContour()}r.endShape(),C(e,r),O(e,r)}function B(e,r,{offset:s=!0,size:t=.9,size2:l=.7}={}){r.push(),r.rotate(-Math.PI/4),r.translate(-e.diagonal/2,0);let d=E(r,{x:0,y:0,w:e.diagonal,h:e.diagonal,ny:e.ny,nx:e.nx});F(d,r,{offset:s,size:t,size2:l}),r.pop(),C(e,r),O(e,r)}function J(e,r,{size:s=.9,offset:t=!1}={}){const{gridx:l,gridy:d,nx:i,ny:y,edge:x}=e;let a=r.min(l,d)*s;b(e.w,e.h,r,!0),r.push(),r.erase();for(let o=0;o<=i;o++)for(let g=0;g<y;g++){let f=(t&&g%2===0?o*l:(o+.5)*l)+x,u=x+(g+.5)*d;r.ellipse(f,u,a,a)}r.pop(),C(e,r)}function V(e,r,{size:s=.9,size2:t=.35,offset:l=!1}={}){const{gridx:d,gridy:i,nx:y,ny:x,edge:a}=e;let o=(1-s)/2,g=d*o,f=d*(1-o),u=i*o,z=i*(1-o);b(e.w,e.h,r,!0),r.push(),r.erase(),r.strokeWeight(d*t*.5),r.stroke(0),r.strokeCap(r.SQUARE);for(let c=0;c<=y;c++)for(let I=0;I<x;I++){let v=(l&&I%2===0?(c-.5)*d:c*d)+a,n=a+i*I;r.line(v+g,n+i/2,v+f,n+i/2),r.line(v+d/2,n+u,v+d/2,n+z)}r.pop(),C(e,r)}function Z(e,r,{size:s=.9,size2:t=.7,offset:l=!1}={}){const{gridx:d,gridy:i,nx:y,ny:x,edge:a}=e;let o=d*s,g=i*t,f=(d-o)/2,u=(i-g)/2,z=r.min(o,g)*.5;b(e.w,e.h,r,!0),r.push(),r.erase();for(let c=0;c<=y;c++)for(let I=0;I<x;I++){let v=(l&&I%2===0?(c-.5)*d:c*d)+a+f,n=I*i+a+u;r.rect(v,n,o,g,z)}r.pop(),C(e,r)}function G(e,r,{size:s=.9}={}){const{gridx:t,gridy:l,nx:d,ny:i,edge:y}=e;let x=t*s*.5;r.beginShape(),b(e.w,e.h,r),r.endShape(),r.push(),r.erase(),r.noFill(),r.stroke(0),r.strokeWeight(x),r.strokeJoin(r.MITER),r.strokeCap(r.PROJECT);for(let a=-1;a<=i;a++){r.beginShape();for(let o=0;o<=d;o++){let g=o*t+y,f=(a-.5)*l+y;o%2===0?r.vertex(g,f):r.vertex(g,f+l)}r.endShape()}r.pop(),C(e,r)}let T=[[1,60,50],[250,60,50],[200,60,50],[145,70,45],[40,90,55]],k={rects:"rects",arcs:"arcs",pluses:"pluses",circles:"circles",rounded:"rounded",zigzag:"zigzag",arcs2:"arcs2"};new H(e=>{let r,s=e.shuffle(T).map(n=>e.color(n).toString());e.setup=function(){e.createCanvas(window.innerWidth,window.innerHeight),e.noLoop(),e.colorMode(e.HSL),r=e.min(e.width,e.height)*.6,c()};let t={drawing:"rects",color:e.random(s).toString(),nx:1,ny:1,size1:.9,size2:.9,show:!1,offset:!1},l={drawing:"rects",color:e.random(s).toString(),nx:5,ny:5,size1:.75,size2:.75,show:!0,offset:!1},d={drawing:"arcs2",color:e.random(s).toString(),nx:5,ny:5,size1:.9,size2:.9,show:!0,offset:!1},i=new W.Pane,y=new L(i),x=i.addFolder({title:"shapeOne"});x.addInput(t,"drawing",{options:k,label:"drawing"}),x.addInput(t,"nx",{min:1,max:12,step:1}),x.addInput(t,"ny",{min:1,max:12,step:1}),x.addInput(t,"size1",{min:0,max:1.5,step:.05}),x.addInput(t,"size2",{min:0,max:1.5,step:.05}),x.addInput(t,"color",{view:"color"}),x.addInput(t,"show"),x.addInput(t,"offset");let a=i.addFolder({title:"shapeTwo"});a.addInput(l,"drawing",{options:k,label:"drawing"}),a.addInput(l,"nx",{min:1,max:12,step:1}),a.addInput(l,"ny",{min:1,max:12,step:1}),a.addInput(l,"size1",{min:0,max:1.5,step:.05}),a.addInput(l,"size2",{min:0,max:1.5,step:.05}),a.addInput(l,"color",{view:"color"}),a.addInput(l,"show"),a.addInput(l,"offset");let o=i.addFolder({title:"shapeThree"});o.addInput(d,"drawing",{options:k,label:"drawing"}),o.addInput(d,"nx",{min:1,max:12,step:1}),o.addInput(d,"ny",{min:1,max:12,step:1}),o.addInput(d,"size1",{min:0,max:1.5,step:.05}),o.addInput(d,"size2",{min:0,max:1.5,step:.05}),o.addInput(d,"color",{view:"color"}),o.addInput(d,"show"),o.addInput(d,"offset"),i.addButton({title:"generate random"}).on("click",()=>{c(),v()}),i.addButton({title:"save"}).on("click",()=>e.saveCanvas("pattern","png")),i.on("change",()=>{y.refreshing||v()});function u(n,S,h=Object.keys(k)){let w=e.random(h);n.size1=e.round(e.random(.6,.9),2),n.size2=e.round(e.random(.6,.9),2),w==="arcs"?(n.nx=e.random([5,6,7,8]),n.ny=n.nx+e.random([-1,0,1])):w==="zigzag"?(n.nx=e.random([3,4,5,6,7,8,9]),n.ny=n.nx+e.random([-1,0,1])):w==="pluses"?(n.nx=e.random([3,4,5,6,7,8,9]),n.ny=n.nx):w==="circles"?(n.nx=e.random([4,5,6,7,8,9]),n.ny=n.nx+e.random([-1,-2,0,1,2])):w==="rounded"?(n.nx=e.random([1,2,3]),n.ny=n.nx+e.random([3,4,5,6,7])):w==="arcs2"?(n.nx=e.random([5,6,7,8,9]),n.ny=n.nx,n.size1=e.random(.7,.92),n.size2=n.size1):(n.nx=e.random([1,2,3,4,5,6,7,8,9]),n.ny=e.random([1,2,3,4,5,6,7,8,9])),n.color=S,n.drawing=w}function z(n,S,h=Object.keys(k)){let w=e.random(h);n.size1=e.round(e.random(.7,.9),2),n.size2=e.round(e.random(.7,.9),2),w==="arcsTilted"?(n.nx=e.random([5,6,7,8]),n.ny=n.nx+e.random([-1,0,1])):w==="arcs"?(n.nx=e.random([5,6,7,8]),n.ny=n.nx+e.random([-1,0,1])):w==="zigzag"?(n.nx=e.random([3,4,5,6,7,8,9]),n.ny=n.nx+e.random([-1,0,1])):w==="pluses"?(n.nx=e.random([3,4,5]),n.ny=n.nx):w==="circles"?(n.nx=e.random([3,4,5]),n.ny=n.nx+e.random([-1,0,1]),n.size1=e.round(e.random(.8,.95),2),n.size2=e.round(e.random(.8,.95),2)):(n.nx=e.random([1,2,3,4]),n.ny=e.random([1,2,3,4])),n.color=S,n.drawing=w}function c(){let n=e.shuffle(T).map(S=>e.color(S).toString());u(l,n[0]),u(t,n[1]),z(d,n[2],["circles","rects","pluses","rounded"]),y.refresh()}function I(n,S){if(!n.show)return;let h=e.createGraphics(S.w,S.h);h.colorMode(h.HSL);let w=E(h,{...S,nx:n.nx,ny:n.ny}),m={size:n.size1,size2:n.size2,offset:n.offset};h.fill(n.color),h.noStroke(),n.drawing==="rects"?j(w,h,m):n.drawing==="arcs"?F(w,h,m):n.drawing==="arcsTilted"?B(w,h,m):n.drawing==="pluses"?V(w,h,m):n.drawing==="circles"?J(w,h,m):n.drawing==="rounded"?Z(w,h,m):n.drawing==="zigzag"?G(w,h,m):n.drawing==="arcs2"&&q(w,h,m),e.image(h,S.x,S.y)}e.draw=function(){v()};function v(){e.clear(0,0,e.width,e.height),e.noStroke();let n={x:(e.width-r)*.1,y:(e.height-r)*.5,w:r,h:r};console.log("drawing"),I(t,n),I(l,n),I(d,n)}});
