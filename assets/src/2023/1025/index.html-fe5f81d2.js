import"../../../modulepreload-polyfill-3cfb730f.js";/* empty css                     */import{c as z}from"../../../index-8d178fc0.js";import{t as T}from"../../../tweakpane-9ece380b.js";import{r as s}from"../../../utils-410b772c.js";import{h as R,a as I}from"../../../color-utils-29147277.js";import"../../../_commonjsHelpers-725317a4.js";const C=(m,t)=>{const c=document.createElement("canvas");c.width=m,c.height=t;const f=c.getContext("2d"),d=f.createImageData(m,t),n=new Uint32Array(d.data.buffer),i=n.length;let a=Math.ceil(i/8);for(let o=0;o<a;o++)Math.random()<.5&&(n[o]=167772159);return n.set(n.subarray(0,a),a),n.set(n.subarray(0,a*2),a*2),n.set(n.subarray(0,a*4),i-a*4),f.putImageData(d,0,0),c};let F="#f24333",S="#ff8019",x="#f6b02c",g="#2ec2ea",k="#3bed73",b="#fc6c9c";const l={countX:3,countY:4,dotRadiusMin:.02,dotRadiusMax:.03,dotPosMin:.3,dotPosMax:.4,flameSizeMin:1,flameSizeMax:1.3,circRadMin:.15,circRadMax:.3,circStrokeMin:.03,circStrokeMax:.1,florCenterMin:.1,florCenterMax:.2};let h=window.innerWidth,u=window.innerHeight,{ctx:e,resizeCanvas:A,canvas:H}=z(h,u),w=C(h,u);function p(m=0){e.clearRect(0,0,h,u),e.fillStyle="#121212",e.fillRect(0,0,h,u),e.save(),e.translate(h/2,u/2);let t=Math.min(h,u)*.9,c=t/l.countX,f=t/l.countY,d=Math.min(c,f);e.translate((c-t)*.5,(f-t)*.5);for(let n=0;n<l.countX;n++)for(let i=0;i<l.countY;i++){e.save(),e.translate(n*c,i*f);let a=s([3,4,4,5,5,6]);{e.save(),e.globalCompositeOperation=s(["lighter","screen"]);let o=s([g,b,x,S]),r=s()<.5;if(X({size:d,color:o,count:s([4,5]),steps:r?a*2:a,fromCenter:d*s(l.florCenterMin,l.florCenterMax)}),s()<.5){let M=d*s(l.dotRadiusMin,l.dotRadiusMax),v=d*s(l.dotPosMin,l.dotPosMax);Y(d,o,a,M,v,s()<.5)}e.restore()}{e.save(),e.globalCompositeOperation=s(["lighten","screen"]),e.globalAlpha=+s(.65,.9).toFixed(2);let o=s([S,g,F,x]);y(d*s(l.flameSizeMax,l.flameSizeMax),a,o),e.globalAlpha-=.2,s()<.5&&(e.rotate(Math.PI/a),y(d*s(l.flameSizeMin,l.flameSizeMax),a,o)),e.globalCompositeOperation=s(["lighten","screen"]),e.beginPath();let r=d*s(l.circRadMin,l.circRadMax);s()<.5?(e.arc(0,0,r,0,Math.PI*2),e.fillStyle=s([b,x]),e.fill()):(e.globalAlpha+=.2,e.arc(0,0,r,0,Math.PI*2),e.lineWidth=d*s(l.circStrokeMin,l.circStrokeMax),e.strokeStyle=s([k,g,b,x]),e.stroke()),e.restore()}e.restore()}e.restore(),e.drawImage(w,0,0,h,u)}function y(m,t=6,c=S){let f=R(c),d=s(2,3);for(let n=0;n<3;n++){let i=m*(.005+.014*n*n),a=i*.4;for(let o=0;o<3;o++){let r={...f};r.h=r.h-o*o*9,r.s=r.h<20?r.s-o:r.s+o*5,e.fillStyle=I(r);let M=i+a*o;P({nodeR:i,length:i*d,distFromCenter:M,steps:t,style:"fill"})}}}function X({size:m,color:t=k,count:c=5,steps:f=12,fromCenter:d=m*.15}){let n=R(t);e.lineWidth=m*.01;let i=d;for(let a=0;a<c;a++){let o={...n},r={...n};o.b-=10,n.h<100?(o.h-=a*20,r.h-=a*15):n.h<150?(r.h-=a*20,r.s-=a*4,r.b=Math.min(r.b+a*5,100)):n.h<200?(r.h+=a*8,r.s+=a):(o.h-=20+a*10,r.h-=a*20,r.s+=a*2),e.fillStyle=I(r),e.strokeStyle=I(o);let M=m*(.04+.04*(a/c));i+=M*.8,P({nodeR:M,length:M,distFromCenter:i,steps:f,style:"fill"}),P({nodeR:M*.7,length:M*.7,distFromCenter:i,steps:f,style:"strokeTop"})}}function Y(m,t,c,f=m*.02,d=m*.35,n=!0){for(let i=0;i<c;i++){let a=i/c*Math.PI*2+Math.PI/c;e.save(),e.rotate(a),e.beginPath(),e.arc(0,d,f,0,Math.PI*2),n?(e.fillStyle=t,e.fill()):(e.strokeStyle=t,e.stroke()),e.restore()}}const D={steps:20,style:"fill"};function P(m){let{nodeR:t,length:c,distFromCenter:f,steps:d,style:n}={...D,...m},i=f+c-t;for(let a=0;a<d;a++){let o=a/d*Math.PI*2;e.save(),e.rotate(o),n==="fill"?(e.beginPath(),e.moveTo(-t,f),e.lineTo(t,f),e.lineTo(t,i),e.arc(0,i,t,0,Math.PI),e.closePath(),e.fill()):(e.beginPath(),e.moveTo(t,f),e.lineTo(t,i),e.arc(0,i,t,0,Math.PI),e.lineTo(-t,f),n==="strokeAll"&&e.closePath(),e.stroke()),e.restore()}}function E(){const m=new T.Pane;let t=m.addFolder({title:"controls"});t.addInput(l,"countX",{min:1,max:10,step:1}),t.addInput(l,"countY",{min:1,max:10,step:1}),t.addInput(l,"dotRadiusMin",{min:0,max:.1}),t.addInput(l,"dotRadiusMax",{min:0,max:.1}),t.addInput(l,"dotPosMin",{min:0,max:1}),t.addInput(l,"dotPosMax",{min:0,max:1}),t.addInput(l,"flameSizeMin",{min:0,max:2}),t.addInput(l,"flameSizeMax",{min:0,max:2}),t.addInput(l,"circRadMin",{min:0,max:.5}),t.addInput(l,"circRadMax",{min:0,max:.5}),t.addInput(l,"circStrokeMin",{min:0,max:.5}),t.addInput(l,"circStrokeMax",{min:0,max:.5}),t.addInput(l,"florCenterMin",{min:0,max:.5}),t.addInput(l,"florCenterMax",{min:0,max:.5}),m.on("change",()=>{p()})}window.addEventListener("resize",()=>{h=window.innerWidth,u=window.innerHeight,w=C(h,u),A(h,u),p()});H.addEventListener("click",()=>p());E();p();
