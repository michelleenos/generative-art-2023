import"../../../modulepreload-polyfill-3cfb730f.js";import{p as v}from"../../../p5.min-89a01bf6.js";/* empty css                     */import"../../../_commonjsHelpers-725317a4.js";import"../../../_commonjs-dynamic-modules-302442b1.js";new v(t=>{let x=document.querySelector("#btns"),m;t.setup=function(){t.createCanvas(window.innerWidth,window.innerHeight),t.createElement("pre").parent("btns"),t.createButton("save").parent("btns").mouseClicked(()=>t.saveCanvas(V(m),"jpg")),t.noLoop()};const w=e=>1/t.cos(e),V=(e=m)=>{const a=c=>t.round(c,2);let n=[];return e.a&&n.push(`a-${a(e.a)}`),e.translate&&n.push(`t-${a(e.translate.x)}-${a(e.translate.y)}`),e.var1&&n.push(`v1-${a(e.var1.x)}-${e.var1.y}`),e.var2&&n.push(`v2-${a(e.var2.x)}-${a(e.var2.y)}`),e.nSteps&&n.push(`n-${a(e.nSteps)}`),n.join("--")};t.draw=function(){m={translate:t.createVector(t.random(-1,1),t.random(.7,2)*(t.random()<.5?-1:1)),var1:t.createVector(t.random(-1,1),t.random(-1,1)),var2:t.createVector(t.random(-1.5,2),t.random(-1,1)),nSteps:t.floor(t.random(20,200)),angleRange:t.random(.1,.5),a:t.random(-4,4)},t.push(),t.background(230),t.stroke(0),t.strokeWeight(.5),t.noFill(),t.translate(t.width/2,t.height/2),S(m),t.pop()},t.mouseClicked=function(e){e.target instanceof HTMLElement&&(!x||!x.contains(e.target))&&t.redraw()};function S({a:e=-2,translate:a=t.createVector(0,-1),var1:n=t.createVector(1,0),var2:c=t.createVector(1,1),nSteps:$=20,angleRange:k=.3}={}){let o=[t.PI*(1-k),t.PI],u=o[0],b=(o[1]-o[0])/$;const C=()=>{let l=[],d=[],r=o[0];for(;r<o[1];){let P=w(r)+e*t.cos(r),h=v.Vector.fromAngle(r).mult(P),g=h.copy().mult(a),j=h.copy().mult(n).rotate(r);g.add(j),l.push(t.abs(g.y)+t.abs(c.y*h.y)/2),d.push(t.abs(g.x)+t.abs(c.x*h.x)/2),r+=b}let s=t.max(l),i=t.max(d),A=t.height*.4/s,M=t.width*.4/i;return t.min(A,M)},f=l=>{let d=w(l)+e*t.cos(l),r=v.Vector.fromAngle(l).mult(d),s=r.copy().mult(n),i=r.copy().mult(c);t.push(),t.translate(r.copy().mult(a).mult(y)),t.rotate(l),s.mult(y),i.mult(y),t.ellipse(s.x,s.y,i.x,i.y),t.pop()};let y=C();for(;u<o[1];)f(u),f(-u),u+=b;f(o[1])}});
