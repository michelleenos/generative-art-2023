var n=Object.defineProperty;var a=(r,s,i)=>s in r?n(r,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[s]=i;var e=(r,s,i)=>(a(r,typeof s!="symbol"?s+"":s,i),i);import{e as t}from"./easings-ac43f515.js";import{a as l}from"./utils-410b772c.js";class h{constructor({duration:s,easing:i,dir:o}={}){e(this,"delta",0);e(this,"easing","linear");e(this,"progress",0);e(this,"linearProgress",0);e(this,"duration",1e3);e(this,"dir",1);e(this,"timerDelay",null);e(this,"_onComplete");e(this,"isComplete",!1);return this.duration=s||this.duration,this.easing=i||this.easing,this.dir=o||this.dir,this}tick(s){if(!this.isComplete){if(this.timerDelay){this.timerDelay.tick(s);return}this.delta=s,this.dir===1?(this.linearProgress=Math.min(1,this.linearProgress+this.delta/this.duration),this.linearProgress===1&&this.complete()):(this.linearProgress=Math.max(0,this.linearProgress-this.delta/this.duration),this.linearProgress===0&&this.completeReverse()),this.progress=this.easing?t[this.easing](this.linearProgress):this.linearProgress,this.round()}}onComplete(s){return this._onComplete=s,this}delay(s){return s<=0?this:(this.timerDelay=new h({duration:s}).onComplete(()=>{this.timerDelay=null}),this)}round(){this.progress=l(this.progress,5)}reset(){return this.linearProgress=0,this.progress=0,this.isComplete=!1,this}reverse(s){return this.dir=-1,s!==void 0&&(this.linearProgress=s,this.progress=this.easing?t[this.easing](this.linearProgress):this.linearProgress),this}restart(){return this.linearProgress=0,this.dir=1,this.isComplete=!1,this}completeReverse(){return this.linearProgress=0,this.progress=0,this.isComplete=!0,this._onComplete&&this._onComplete(),this}complete(){return this.linearProgress=1,this.progress=1,this.isComplete=!0,this._onComplete&&this._onComplete(),this}setProgress(s){this.linearProgress=s,this.progress=this.easing?t[this.easing](this.linearProgress):this.linearProgress,this.round()}}export{h as T};
